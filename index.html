<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TiRacoon - Générateur de descriptions d'images accessibles</title>
    
    <!-- LIGNES MAGIQUES : Toolbar Faites Mieux -->
    <link rel="stylesheet" href="https://alixb-accessible.github.io/faites-mieux-toolbar/faites-mieux.css">
    <script src="https://alixb-accessible.github.io/faites-mieux-toolbar/faites-mieux.js" defer></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
/* Skip link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: #000;
  color: #fff;
  padding: 8px 16px;
  text-decoration: none;
  z-index: 9999;
  font-weight: bold;
}
.skip-link:focus {
  top: 0;
  outline: 3px solid #ffb703;
}

/* Zone d'annonces pour lecteurs d'écran */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Styles originaux */
html, body {
    height: 100%;
    margin: 0;
    padding: 0;
}

body {
    box-sizing: border-box;
    background: linear-gradient(135deg, 
        #4a4a4a 0%, #4a4a4a 14.28%,
        #22c55e 14.28%, #22c55e 28.56%,
        #3b82f6 28.56%, #3b82f6 42.84%,
        #ffffff 42.84%, #ffffff 57.12%,
        #fbbf24 57.12%, #fbbf24 71.4%,
        #dc2626 71.4%, #dc2626 85.68%,
        #4a4a4a 85.68%, #4a4a4a 100%);
    background-attachment: fixed;
    background-repeat: no-repeat;
    background-size: cover;
    min-height: 100%;
    padding-top: 20px;
}

.glass-effect {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.result-box {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(0, 0, 0, 0.1);
}

.copy-button {
    transition: all 0.3s ease;
}

.copy-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.fade-in {
    animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.pulse-animation {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.reset-btn {
    background: #dc2626;
    color: white;
    padding: 10px 20px;
    border-radius: 8px;
    border: none;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
}

.reset-btn:hover {
    background: #b91c1c;
    transform: translateY(-2px);
}

.reset-btn:focus {
    outline: 3px solid #ffb703;
    outline-offset: 2px;
}

/* Adaptation mobile */
@media (max-width: 768px) {
    body {
        padding-top: 10px;
    }
    
    .container {
        padding-left: 8px !important;
        padding-right: 8px !important;
    }
}
    </style>
</head>
<body class="min-h-full">
    <!-- Skip link pour accessibilité -->
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>

    <!-- Zone d'annonces pour lecteurs d'écran -->
    <div id="announcements" class="sr-only" role="status" aria-live="polite" aria-atomic="true"></div>

    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header role="banner" class="text-center mb-8">
            <div class="bg-white p-6 rounded-lg mx-auto max-w-2xl">
                <h1 class="text-4xl md:text-5xl font-bold text-black mb-4">
                    Outil de Description d'Images
                </h1>
                <p class="text-xl text-black mb-2">Créez des descriptions accessibles pour vos visuels</p>
                <p class="text-sm text-black">Créé par TiRacoon</p>
            </div>
        </header>

        <!-- Bouton Réinitialiser -->
        <div class="text-center mb-6">
            <button 
                type="button" 
                id="resetButton" 
                class="reset-btn"
                aria-label="Réinitialiser le formulaire"
            >
                Réinitialiser le formulaire
            </button>
        </div>

        <!-- Main Form -->
        <main id="main-content" role="main" class="max-w-4xl mx-auto">
            <form id="descriptionForm" class="space-y-6" novalidate>
                <!-- Type de contenu -->
                <fieldset class="glass-effect rounded-lg p-6">
                    <legend class="text-xl font-semibold mb-4 text-gray-800">Type de contenu <span style="color:#dc2626;">*</span></legend>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4" role="radiogroup" aria-required="true">
                        <label class="flex items-center space-x-3 text-gray-800 cursor-pointer p-3 border border-gray-300 rounded-lg hover:bg-gray-50">
                            <input type="radio" name="contentType" value="image" class="text-blue-500 focus:ring-blue-500" required aria-required="true">
                            <div>
                                <div class="font-medium">Image/Visuel</div>
                                <div class="text-sm text-gray-600">Photo, illustration, graphique, infographie</div>
                            </div>
                        </label>
                        <label class="flex items-center space-x-3 text-gray-800 cursor-pointer p-3 border border-gray-300 rounded-lg hover:bg-gray-50">
                            <input type="radio" name="contentType" value="press" class="text-blue-500 focus:ring-blue-500" required aria-required="true">
                            <div>
                                <div class="font-medium">Communiqué de presse</div>
                                <div class="text-sm text-gray-600">Document texte, article, communiqué</div>
                            </div>
                        </label>
                    </div>
                </fieldset>

                <!-- Section Image/Visuel -->
                <div id="imageSection" class="hidden" role="region" aria-label="Section description d'image">
                    <!-- Description de l'image -->
                    <fieldset class="glass-effect rounded-lg p-6">
                        <legend class="text-xl font-semibold mb-4 text-gray-800">Description de l'image</legend>
                        <div class="space-y-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="imageTypeSelect" class="block text-sm font-medium text-gray-800 mb-2">Type d'image</label>
                                    <select 
                                        id="imageTypeSelect" 
                                        class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        aria-label="Sélectionnez le type d'image"
                                    >
                                        <option value="">Sélectionner...</option>
                                        <option value="photo">Photo</option>
                                        <option value="illustration">Illustration</option>
                                        <option value="graphique">Graphique</option>
                                        <option value="infographie">Infographie</option>
                                        <option value="capture">Capture d'écran</option>
                                        <option value="dessin">Dessin</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="imageFormat" class="block text-sm font-medium text-gray-800 mb-2">Format</label>
                                    <select 
                                        id="imageFormat" 
                                        class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        aria-label="Sélectionnez le format de l'image"
                                    >
                                        <option value="">Sélectionner...</option>
                                        <option value="9/16">9/16 (story/ TikTok/Réel)</option>
                                        <option value="16/9">16/9 (vignette YouTube, visuel Twitter (X))</option>
                                        <option value="carré">Carré (1/1)</option>
                                        <option value="insta">Insta (4/5)</option>
                                        <option value="bannière">Bannière (FB, X, Bluesky ... : préciser)</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div>
                                <label for="generalDescription" class="block text-sm font-medium text-gray-800 mb-2">Description générale</label>
                                <textarea 
                                    id="generalDescription" 
                                    rows="3" 
                                    class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="Décrivez l'image de manière générale..."
                                    aria-label="Saisissez une description générale de l'image"
                                ></textarea>
                            </div>
                            
                            <div>
                                <label for="background" class="block text-sm font-medium text-gray-800 mb-2">Arrière-plan</label>
                                <textarea 
                                    id="background" 
                                    rows="2" 
                                    class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="Décrivez l'arrière-plan..."
                                    aria-label="Décrivez l'arrière-plan de l'image"
                                ></textarea>
                            </div>
                            
                            <div>
                                <label for="foreground" class="block text-sm font-medium text-gray-800 mb-2">Premier plan</label>
                                <textarea 
                                    id="foreground" 
                                    rows="2" 
                                    class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="Décrivez le premier plan..."
                                    aria-label="Décrivez le premier plan de l'image"
                                ></textarea>
                            </div>
                            
                            <div>
                                <label for="messageText" class="block text-sm font-medium text-gray-800 mb-2">Message</label>
                                <textarea 
                                    id="messageText" 
                                    rows="3" 
                                    class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="Quel est le message écrit ?"
                                    aria-label="Saisissez le message ou texte présent sur l'image"
                                ></textarea>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <fieldset>
                                    <legend class="block text-sm font-medium text-gray-800 mb-3">Écriture</legend>
                                    <div class="space-y-2" role="radiogroup" aria-label="Type d'écriture du texte">
                                        <label class="flex items-center space-x-2 text-gray-800 cursor-pointer">
                                            <input type="radio" name="textCase" value="minuscules" class="text-blue-500 focus:ring-blue-500">
                                            <span>Minuscules</span>
                                        </label>
                                        <label class="flex items-center space-x-2 text-gray-800 cursor-pointer">
                                            <input type="radio" name="textCase" value="majuscules" class="text-blue-500 focus:ring-blue-500">
                                            <span>Majuscules</span>
                                        </label>
                                    </div>
                                </fieldset>
                                <div>
                                    <label for="fontColor" class="block text-sm font-medium text-gray-800 mb-2">Couleur de la police</label>
                                    <input 
                                        type="text" 
                                        id="fontColor" 
                                        class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        placeholder="Ex: blanc, noir, rouge..."
                                        aria-label="Indiquez la couleur de la police du texte"
                                    >
                                </div>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Logo et emplacement -->
                    <fieldset class="glass-effect rounded-lg p-6">
                        <legend class="text-xl font-semibold mb-4 text-gray-800">Logos et emplacement</legend>
                        <div class="space-y-4">
                            <!-- Logo principal -->
                            <div>
                                <label class="flex items-center space-x-2 text-gray-800 cursor-pointer mb-3">
                                    <input type="checkbox" id="hasMainLogo" class="rounded text-blue-500 focus:ring-blue-500" aria-describedby="mainLogoDesc">
                                    <span class="font-medium">Logo principal</span>
                                </label>
                                <div id="mainLogoSection" class="hidden ml-6 space-y-3">
                                    <div>
                                        <label for="mainLogoDesc" class="block text-sm font-medium text-gray-800 mb-2">Description du logo</label>
                                        <input 
                                            type="text" 
                                            id="mainLogoDesc" 
                                            class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                            placeholder="Ex: Logo de l'entreprise XYZ"
                                            aria-label="Décrivez le logo principal"
                                        >
                                    </div>
                                    <div>
                                        <label for="mainLogoLocation" class="block text-sm font-medium text-gray-800 mb-2">Emplacement</label>
                                        <input 
                                            type="text" 
                                            id="mainLogoLocation" 
                                            class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                            placeholder="Ex: en haut à gauche"
                                            aria-label="Indiquez l'emplacement du logo principal"
                                        >
                                    </div>
                                </div>
                            </div>

                            <!-- Logos réseaux sociaux -->
                            <div>
                                <label class="flex items-center space-x-2 text-gray-800 cursor-pointer mb-3">
                                    <input type="checkbox" id="hasSocialLogos" class="rounded text-blue-500 focus:ring-blue-500" aria-describedby="socialLogosDesc">
                                    <span class="font-medium">Logos réseaux sociaux</span>
                                </label>
                                <div id="socialLogosSection" class="hidden ml-6 space-y-3">
                                    <fieldset>
                                        <legend class="block text-sm font-medium text-gray-800 mb-2">Sélectionnez les réseaux présents</legend>
                                        <div class="grid grid-cols-2 md:grid-cols-3 gap-2 mb-3">
                                            <label class="flex items-center space-x-2 text-gray-800 cursor-pointer">
                                                <input type="checkbox" class="social-network rounded text-blue-500 focus:ring-blue-500" value="Facebook">
                                                <span>Facebook</span>
                                            </label>
                                            <label class="flex items-center space-x-2 text-gray-800 cursor-pointer">
                                                <input type="checkbox" class="social-network rounded text-blue-500 focus:ring-blue-500" value="Twitter/X">
                                                <span>Twitter/X</span>
                                            </label>
                                            <label class="flex items-center space-x-2 text-gray-800 cursor-pointer">
                                                <input type="checkbox" class="social-network rounded text-blue-500 focus:ring-blue-500" value="Instagram">
                                                <span>Instagram</span>
                                            </label>
                                            <label class="flex items-center space-x-2 text-gray-800 cursor-pointer">
                                                <input type="checkbox" class="social-network rounded text-blue-500 focus:ring-blue-500" value="LinkedIn">
                                                <span>LinkedIn</span>
                                            </label>
                                            <label class="flex items-center space-x-2 text-gray-800 cursor-pointer">
                                                <input type="checkbox" class="social-network rounded text-blue-500 focus:ring-blue-500" value="YouTube">
                                                <span>YouTube</span>
                                            </label>
                                            <label class="flex items-center space-x-2 text-gray-800 cursor-pointer">
                                                <input type="checkbox" class="social-network rounded text-blue-500 focus:ring-blue-500" value="TikTok">
                                                <span>TikTok</span>
                                            </label>
                                        </div>
                                    </fieldset>
                                    <div>
                                        <label for="socialLogosLocation" class="block text-sm font-medium text-gray-800 mb-2">Emplacement des logos sociaux</label>
                                        <input 
                                            type="text" 
                                            id="socialLogosLocation" 
                                            class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                            placeholder="Ex: en bas à droite"
                                            aria-label="Indiquez l'emplacement des logos réseaux sociaux"
                                        >
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <!-- Section Communiqué de presse -->
                <div id="pressSection" class="hidden" role="region" aria-label="Section communiqué de presse">
                    <!-- Situation du communiqué -->
                    <fieldset class="glass-effect rounded-lg p-6">
                        <legend class="text-xl font-semibold mb-4 text-gray-800">Situation du communiqué <span style="color:#dc2626;">*</span></legend>
                        <div class="space-y-4" role="radiogroup" aria-required="true">
                            <label class="flex items-center space-x-3 text-gray-800 cursor-pointer p-3 border border-gray-300 rounded-lg hover:bg-gray-50">
                                <input type="radio" name="pressSituation" value="new" class="text-blue-500 focus:ring-blue-500" required aria-required="true">
                                <div>
                                    <div class="font-medium">Nouveau communiqué</div>
                                    <div class="text-sm text-gray-600">(pas encore de lien accessible)</div>
                                </div>
                            </label>
                            <label class="flex items-center space-x-3 text-gray-800 cursor-pointer p-3 border border-gray-300 rounded-lg hover:bg-gray-50">
                                <input type="radio" name="pressSituation" value="existing" class="text-blue-500 focus:ring-blue-500" required aria-required="true">
                                <div>
                                    <div class="font-medium">Communiqué avec lien accessible existant</div>
                                    <div class="text-sm text-gray-600">Vous avez déjà un lien textup.fr ou sur votre propre site</div>
                                </div>
                            </label>
                        </div>
                    </fieldset>

                    <!-- Titre -->
                    <fieldset class="glass-effect rounded-lg p-6">
                        <legend class="text-xl font-semibold mb-4 text-gray-800">Titre du communiqué</legend>
                        <div class="space-y-4">
                            <div>
                                <label for="pressTitle" class="block text-sm font-medium text-gray-800 mb-2">Titre principal</label>
                                <input 
                                    type="text" 
                                    id="pressTitle" 
                                    class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="Ex: Ministère du handicap ? Encore un oubli de Sébastien Lecornu II ?"
                                    aria-label="Saisissez le titre principal du communiqué"
                                >
                            </div>
                        </div>
                    </fieldset>

                    <!-- Description de l'image -->
                    <fieldset class="glass-effect rounded-lg p-6">
                        <legend class="text-xl font-semibold mb-4 text-gray-800">Description de l'image</legend>
                        <div class="space-y-4">
                            <div>
                                <label for="pressImageDesc" class="block text-sm font-medium text-gray-800 mb-2">Décrivez le papier à en-tête, l'instance dont émane le communiqué...</label>
                                <textarea 
                                    id="pressImageDesc" 
                                    rows="3" 
                                    class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="Ex: Document officiel avec en-tête du Ministère des Solidarités et de la Santé..."
                                    aria-label="Décrivez l'apparence du communiqué (en-tête, logo, mise en page)"
                                ></textarea>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Texte du communiqué -->
                    <fieldset class="glass-effect rounded-lg p-6">
                        <legend class="text-xl font-semibold mb-4 text-gray-800">Texte du communiqué</legend>
                        <div class="space-y-4">
                            <div>
                                <label for="pressContent" class="block text-sm font-medium text-gray-800 mb-2">Collez ici le texte complet à envoyer sur textup.fr...</label>
                                <textarea 
                                    id="pressContent" 
                                    rows="8" 
                                    class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y"
                                    placeholder="Collez ici le texte intégral du communiqué de presse... (aucune limite de caractères)"
                                    aria-label="Collez le texte complet du communiqué de presse"
                                ></textarea>
                            </div>
                            
                            <div class="bg-orange-50 p-4 rounded-lg border-l-4 border-orange-500" role="complementary" aria-label="Instructions pour textup.fr">
                                <p class="text-gray-800 mb-3"><strong>Étape suivante :</strong> Copiez ce texte et envoyez-le sur textup.fr</p>
                                <p class="text-sm text-gray-700 mb-3">
                                    <strong>Qu'est-ce que textup.fr ?</strong> C'est un hébergeur de texte gratuit qui permet de s'affranchir des limites de caractères des réseaux sociaux.
                                </p>
                                <div class="flex gap-3 flex-wrap">
                                    <button 
                                        type="button" 
                                        id="copyTextButton" 
                                        class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg font-medium"
                                        aria-label="Copier le texte du communiqué dans le presse-papier"
                                    >
                                        Copier le texte
                                    </button>
                                    <a 
                                        href="https://textup.fr" 
                                        target="_blank" 
                                        rel="noopener noreferrer"
                                        class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium inline-flex items-center"
                                        aria-label="Ouvrir textup.fr dans un nouvel onglet"
                                    >
                                        Ouvrir textup.fr
                                        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Section pour nouveau communiqué -->
                    <div id="newPressSection" class="hidden">
                        <fieldset class="glass-effect rounded-lg p-6">
                            <legend class="text-xl font-semibold mb-4 text-gray-800">Lien textup.fr généré</legend>
                            <div class="space-y-4">
                                <div>
                                    <label for="textupLink" class="block text-sm font-medium text-gray-800 mb-2">Collez ici le lien généré par textup.fr...</label>
                                    <input 
                                        type="url" 
                                        id="textupLink" 
                                        class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        placeholder="Ex: https://textup.fr/123456789"
                                        aria-label="Collez le lien généré par textup.fr"
                                    >
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <!-- Section pour communiqué existant -->
                    <div id="existingPressSection" class="hidden">
                        <fieldset class="glass-effect rounded-lg p-6">
                            <legend class="text-xl font-semibold mb-4 text-gray-800">Lien textup.fr ou de votre site existant</legend>
                            <div class="space-y-4">
                                <div>
                                    <label for="existingTextupLink" class="block text-sm font-medium text-gray-800 mb-2">Collez ici votre lien textup.fr ou de votre site existant...</label>
                                    <input 
                                        type="url" 
                                        id="existingTextupLink" 
                                        class="w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        placeholder="Ex: https://textup.fr/123456789 ou https://votresite.fr/communique"
                                        aria-label="Collez votre lien textup.fr ou de votre site existant"
                                    >
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>

                <!-- Bouton de génération -->
                <div class="text-center">
                    <button 
                        type="submit" 
                        class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-lg text-lg transition-all duration-300 transform hover:scale-105 shadow-lg"
                        aria-label="Générer la description accessible"
                    >
                        Générer la description
                    </button>
                </div>
            </form>

            <!-- Résultat -->
            <div id="result" class="hidden mt-8 fade-in" role="region" aria-label="Résultat de la description générée">
                <div class="result-box rounded-lg p-6 text-gray-800">
                    <div class="flex justify-between items-center mb-4 flex-wrap gap-3">
                        <h3 class="text-xl font-semibold text-gray-800">Votre description accessible :</h3>
                        <div class="flex gap-3 flex-wrap">
                            <button 
                                id="copyButton" 
                                class="copy-button bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium"
                                aria-label="Copier la description dans le presse-papier"
                            >
                                Copier
                            </button>
                            <button 
                                id="newDescriptionButton" 
                                class="reset-btn"
                                aria-label="Créer une nouvelle description"
                            >
                                Nouvelle description
                            </button>
                        </div>
                    </div>
                    <div id="generatedDescription" class="bg-gray-50 p-4 rounded border text-gray-700 leading-relaxed" aria-live="polite"></div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer role="contentinfo" class="text-center mt-12">
            <div class="bg-white p-3 rounded-lg mx-auto max-w-sm shadow-lg">
                <p class="text-sm text-gray-700 font-medium">TiRacoon - Pour un monde virtuel plus accessible</p>
            </div>
        </footer>
    </div>

    <!-- Script du générateur -->
    <script>
        function announce(message) {
            const announcer = document.getElementById('announcements');
            announcer.textContent = message;
            setTimeout(() => announcer.textContent = '', 1000);
        }

        // Bouton Réinitialiser
        document.getElementById('resetButton').addEventListener('click', function() {
            if(confirm('Voulez-vous vraiment réinitialiser le formulaire ? Toutes les données seront effacées.')) {
                document.getElementById('descriptionForm').reset();
                document.getElementById('imageSection').classList.add('hidden');
                document.getElementById('pressSection').classList.add('hidden');
                document.getElementById('result').classList.add('hidden');
                document.getElementById('mainLogoSection').classList.add('hidden');
                document.getElementById('socialLogosSection').classList.add('hidden');
                document.getElementById('newPressSection').classList.add('hidden');
                document.getElementById('existingPressSection').classList.add('hidden');
                announce('Formulaire réinitialisé');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        });

        // Bouton Nouvelle description
        document.getElementById('newDescriptionButton').addEventListener('click', function() {
            document.getElementById('descriptionForm').reset();
            document.getElementById('imageSection').classList.add('hidden');
            document.getElementById('pressSection').classList.add('hidden');
            document.getElementById('result').classList.add('hidden');
            document.getElementById('mainLogoSection').classList.add('hidden');
            document.getElementById('socialLogosSection').classList.add('hidden');
            document.getElementById('newPressSection').classList.add('hidden');
            document.getElementById('existingPressSection').classList.add('hidden');
            announce('Nouveau formulaire prêt');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        document.querySelectorAll('input[name="contentType"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const imageSection = document.getElementById('imageSection');
                const pressSection = document.getElementById('pressSection');
                
                if (this.value === 'image') {
                    imageSection.classList.remove('hidden');
                    pressSection.classList.add('hidden');
                    announce('Section Image/Visuel affichée');
                } else if (this.value === 'press') {
                    pressSection.classList.remove('hidden');
                    imageSection.classList.add('hidden');
                    announce('Section Communiqué de presse affichée');
                }
            });
        });

        document.getElementById('hasMainLogo').addEventListener('change', function() {
            const section = document.getElementById('mainLogoSection');
            if (this.checked) {
                section.classList.remove('hidden');
                announce('Section logo principal affichée');
            } else {
                section.classList.add('hidden');
            }
        });

        document.getElementById('hasSocialLogos').addEventListener('change', function() {
            const section = document.getElementById('socialLogosSection');
            if (this.checked) {
                section.classList.remove('hidden');
                announce('Section logos réseaux sociaux affichée');
            } else {
                section.classList.add('hidden');
            }
        });

        document.querySelectorAll('input[name="pressSituation"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const newSection = document.getElementById('newPressSection');
                const existingSection = document.getElementById('existingPressSection');
                
                if (this.value === 'new') {
                    newSection.classList.remove('hidden');
                    existingSection.classList.add('hidden');
                    announce('Section nouveau communiqué affichée');
                } else if (this.value === 'existing') {
                    existingSection.classList.remove('hidden');
                    newSection.classList.add('hidden');
                    announce('Section communiqué existant affichée');
                }
            });
        });

        document.getElementById('copyTextButton').addEventListener('click', function() {
            const pressContent = document.getElementById('pressContent').value;
            if (pressContent.trim()) {
                navigator.clipboard.writeText(pressContent).then(function() {
                    const button = document.getElementById('copyTextButton');
                    const originalText = button.textContent;
                    button.textContent = 'Texte copié !';
                    button.classList.add('pulse-animation');
                    announce('Texte du communiqué copié');
                    
                    setTimeout(function() {
                        button.textContent = originalText;
                        button.classList.remove('pulse-animation');
                    }, 2000);
                }).catch(function(err) {
                    announce('Erreur lors de la copie');
                    alert('Erreur lors de la copie. Veuillez réessayer.');
                });
            } else {
                announce('Aucun texte à copier');
                alert('Veuillez d\'abord saisir le texte du communiqué.');
            }
        });
        document.getElementById('descriptionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const contentType = document.querySelector('input[name="contentType"]:checked')?.value;
            
            if (!contentType) {
                announce('Erreur : veuillez sélectionner un type de contenu');
                alert('Veuillez sélectionner un type de contenu.');
                return;
            }
            
            let description = '';
            
            if (contentType === 'image') {
                const imageTypeSelect = document.getElementById('imageTypeSelect').value;
                const imageFormat = document.getElementById('imageFormat').value;
                const generalDescription = document.getElementById('generalDescription').value;
                const background = document.getElementById('background').value;
                const foreground = document.getElementById('foreground').value;
                const messageText = document.getElementById('messageText').value;
                const textCase = document.querySelector('input[name="textCase"]:checked')?.value;
                const fontColor = document.getElementById('fontColor').value;
                const hasMainLogo = document.getElementById('hasMainLogo').checked;
                const mainLogoDesc = document.getElementById('mainLogoDesc').value;
                const mainLogoLocation = document.getElementById('mainLogoLocation').value;
                const hasSocialLogos = document.getElementById('hasSocialLogos').checked;
                const selectedSocialNetworks = Array.from(document.querySelectorAll('.social-network:checked')).map(cb => cb.value);
                const socialLogosLocation = document.getElementById('socialLogosLocation').value;
                
                let parts = [];
                
                if (imageTypeSelect) {
                    const typeLabels = {
                        'photo': 'Photo',
                        'illustration': 'Illustration',
                        'graphique': 'Graphique',
                        'infographie': 'Infographie',
                        'capture': 'Capture d\'écran',
                        'dessin': 'Dessin'
                    };
                    let typePart = typeLabels[imageTypeSelect];
                    if (imageFormat) {
                        const formatLabels = {
                            '9/16': 'en format 9/16 (story/TikTok/Réel)',
                            '16/9': 'en format 16/9 (vignette YouTube, visuel Twitter)',
                            'carré': 'en format carré (1/1)',
                            'insta': 'en format Instagram (4/5)',
                            'bannière': 'en format bannière'
                        };
                        typePart += ' ' + formatLabels[imageFormat];
                    }
                    parts.push(typePart);
                }
                
                if (generalDescription.trim()) parts.push(generalDescription.trim());
                if (background.trim()) parts.push('Arrière-plan : ' + background.trim());
                if (foreground.trim()) parts.push('Premier plan : ' + foreground.trim());
                
                if (messageText.trim()) {
                    let messagePart = 'Message : "' + messageText.trim() + '"';
                    let textDetails = [];
                    if (textCase) textDetails.push('en ' + textCase);
                    if (fontColor.trim()) textDetails.push('couleur ' + fontColor.trim());
                    if (textDetails.length > 0) messagePart += ' (' + textDetails.join(', ') + ')';
                    parts.push(messagePart);
                }
                
                if (hasMainLogo && mainLogoDesc.trim()) {
                    let logoPart = mainLogoDesc.trim();
                    if (mainLogoLocation.trim()) logoPart += ' (' + mainLogoLocation.trim() + ')';
                    parts.push(logoPart);
                }
                
                if (hasSocialLogos && selectedSocialNetworks.length > 0) {
                    let socialPart = selectedSocialNetworks.length === 1 ? 'Logo ' + selectedSocialNetworks[0] : 'Logos ' + selectedSocialNetworks.join(', ');
                    if (socialLogosLocation.trim()) socialPart += ' (' + socialLogosLocation.trim() + ')';
                    parts.push(socialPart);
                }
                
                if (parts.length > 0) {
                    description = parts.join('. ');
                    if (!description.endsWith('.')) description += '.';
                }
                
            } else if (contentType === 'press') {
                const pressSituation = document.querySelector('input[name="pressSituation"]:checked')?.value;
                
                if (!pressSituation) {
                    announce('Erreur : veuillez sélectionner une situation');
                    alert('Veuillez sélectionner si vous avez un nouveau communiqué ou un lien existant.');
                    return;
                }
                
                const pressTitle = document.getElementById('pressTitle').value;
                const pressImageDesc = document.getElementById('pressImageDesc').value;
                let textupLink = '';
                
                if (pressSituation === 'new') {
                    textupLink = document.getElementById('textupLink').value;
                } else {
                    textupLink = document.getElementById('existingTextupLink').value;
                }
                
                description = pressImageDesc.trim() || 'Communiqué de presse';
                if (pressTitle.trim()) description += ' intitulé "' + pressTitle.trim() + '"';
                if (textupLink.trim()) description += '. Version accessible disponible sur : ' + textupLink.trim();
            }
            
            description = description.replace(/^[. ]+/, '').replace(/\. \./g, '.');
            if (description && !description.endsWith('.')) description += '.';
            
            if (description.trim()) {
                document.getElementById('generatedDescription').textContent = description;
                document.getElementById('result').classList.remove('hidden');
                document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
                announce('Description générée avec succès');
            } else {
                announce('Erreur : veuillez remplir au moins un champ');
                alert('Veuillez remplir au moins un champ.');
            }
        });
        
        document.getElementById('copyButton').addEventListener('click', function() {
            const description = document.getElementById('generatedDescription').textContent;
            navigator.clipboard.writeText(description).then(function() {
                const button = document.getElementById('copyButton');
                const originalText = button.textContent;
                button.textContent = 'Copié !';
                button.classList.add('pulse-animation');
                announce('Description copiée');
                
                setTimeout(function() {
                    button.textContent = originalText;
                    button.classList.remove('pulse-animation');
                }, 2000);
            }).catch(function(err) {
                announce('Erreur lors de la copie');
                alert('Erreur lors de la copie.');
            });
        });
    </script>
</body>
</html>
